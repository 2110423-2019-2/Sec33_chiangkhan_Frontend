<app-navbar></app-navbar>
<div class="container">
  <div style="padding-top: 2.5%; padding-left: 25px;">
    <div id="sort" class="dropdown">
      <div class="dropdown-trigger">
        <button
          class="button"
          aria-haspopup="true"
          aria-controls="dropdown-menu"
          (click)="toggleDropdown('sort')"
          style="height: 45px;"
        >
          <i class="fas fa-sort-alpha-down-alt" style="padding-right: 5px;"></i>
          <span>{{ sortDropDown }}</span>
          <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
        </button>
      </div>
      <div class="dropdown-menu" id="dropdown-menu" role="menu">
        <div class="dropdown-content">
          <a class="dropdown-item" (click)="sortbyAvgRatingInc()">
            Rating
          </a>
          <a class="dropdown-item" (click)="sortbycapacityInc()">
            Capacity
          </a>
        </div>
      </div>
    </div>
    <div id="order" class="dropdown">
      <div class="dropdown-trigger">
        <button
          class="button"
          aria-haspopup="true"
          aria-controls="dropdown-menu"
          (click)="toggleDropdown('order')"
          style="height: 45px;"
        >
          <i class="fas fa-sort-alpha-down-alt" style="padding-right: 5px;"></i>
          <span>{{ orderby }}</span>
          <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
        </button>
      </div>
      <div class="dropdown-menu" id="dropdown-menu" role="menu">
        <div class="dropdown-content">
          <a class="dropdown-item" (click)="orderbyDESC()">
            Max --> Min
          </a>
          <a class="dropdown-item" (click)="orderbyASC()">
            Min --> Max
          </a>
        </div>
      </div>
    </div>
    <button
      class="button is-primary is-outlined"
      (click)="getSearchCar()"
      style="height: 45px;"
    >
      Search
    </button>
    <button
    class="button is-primary is-outlined"
    (click)="clearSearch()"
    style="height: 45px;"
  >
    Clear
  </button>
  </div>
  <form action="/" method="get">
    <div class="filters is-flex" id="state-show">
      <fieldset>
        <label id="f" for="">Car type</label>
        <div id="cartype" class="dropdown">
          <div class="dropdown-trigger">
            <button
              class="input"
              aria-haspopup="true"
              aria-controls="dropdown-menu"
              style="width:150px; height: 42px;"
              (click)="toggleDropdown('cartype')"
            >
              <span>{{ valueCartype }}</span>
            </button>
          </div>
          <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
              <a class="dropdown-item" (click)="searchCartype('personal')">
                personal
              </a>
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset>
        <label id="f" for="">Car Model</label>
        <div id="carmodel" class="dropdown">
          <div class="dropdown-trigger">
            <button
              class="input"
              aria-haspopup="true"
              aria-controls="dropdown-menu"
              style="width:150px; height: 42px;"
              (click)="toggleDropdown('carmodel')"
            >
              <span>{{ valueCarmodel }}</span>   
            </button>
          </div>
          <div class="dropdown-menu" id="dropdown-menu" role="menu" style="max-height: 300px; overflow: auto;">
            <div class="dropdown-content">
              <a class="dropdown-item" (click)="searchCarmodel('BMW')">
                BMW
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Buick')">
                Buick
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Chevrolet')">
                Chevrolet
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Honda')">
                Honda
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Dodge')">
                Dodge
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Mazda')">
                Mazda
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Mitsubishi')">
                Mitsubishi
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('GMC')">
                GMC
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Land Rover')">
                Land Rover
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Ford')">
                Ford
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Aston Martin')">
                Aston Martin
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Volkswagen')">
                Volkswagen
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Maserati')">
                Maserati
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Pontiac')">
                Pontiac
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Porsche')">
                Porsche
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Mercedes-Benz')">
                Mercedes-Benz
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Geo')">
                Geo
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Saturn')">
                Saturn
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Lincoln')">
                Lincoln
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Acura')">
                Acura
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Nissan')">
                Nissan
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Oldsmobile')">
                Oldsmobile
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Toyota')">
                Toyota
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Audi')">
                Audi
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Kia')">
                Kia
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Hyundai')">
                Hyundai
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Bugatti')">
                Bugatti
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Volvo')">
                Volvo
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Mercury')">
                Mercury
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Infiniti')">
                Infiniti
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Saab')">
                Saab
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Studebaker')">
                Studebaker
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Subaru')">
                Subaru
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Chrysler')">
                Chrysler
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Lexus')">
                Lexus
              </a>
              <a class="dropdown-item" (click)="searchCarmodel('Ferrari')">
                Ferrari
              </a>
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset>
        <label id="f" for="">Car capacity</label>
        <div id="capacity" class="dropdown">
          <div class="dropdown-trigger">
            <button
              class="input"
              aria-haspopup="true"
              aria-controls="dropdown-menu"
              style="width:150px; height: 42px;"
              (click)="toggleDropdown('capacity')"
            >
              <span>{{ valueCapacity }}</span>
            </button>
          </div>
          <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
              <a class="dropdown-item" (click)="searchCapacity(2)">
                2
              </a>
              <a class="dropdown-item" (click)="searchCapacity(3)">
                3
              </a>
              <a class="dropdown-item" (click)="searchCapacity(4)">
                4
              </a>
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset>
        <label id="f" for="">Location</label>
        <button
          class="input"
          style="width:150px; height: 42px;"
          (click)="openMap()"
        >
        <i class="fas fa-map-marked-alt" style="padding-right: 5px;"></i>
          Open map
        </button>
      </fieldset>
      <fieldset>
        <label id="f" for="">Start Date</label>
        <input
          class="input"
          type="date"
          name="startDate"
          id="startDate"
          formControlName="startDate"
        />
      </fieldset>
      <fieldset>
        <label id="f" for="">End Date</label>
        <input
          class="input"
          type="date"
          name="endDate"
          id="endDate"
          formControlName="endDate"
        />
      </fieldset>
    </div>
  </form>
  <h1 style="font-weight: bold; font-size: xx-large; padding-bottom: 20px;">Newest Deal Available</h1>
  <div class="columns is-multiline" style="justify-content: space-evenly;">
    <div class="column is-narrow" *ngFor="let car of cars">
      <app-homepage-car [car]="car"></app-homepage-car>
    </div>
  </div>
</div>
<footer>
  <app-app-footer></app-app-footer>
</footer>

<div class="modal modal-fx-fadeInScale" id="form">
  <div class="modal-background"></div>
  <div class="modal-content modal-card" style="height:auto; width: 1000px;">
    <header class="modal-card-head">
      <p class="modal-card-title">Choose Location</p>
      <button class="delete" aria-label="close" (click)="closeform()"></button>
    </header>
    <section class="modal-card-body">
      <form (ngSubmit)="submit_add_deal()">
        <div class="container">
          <div class="form-group">
            <label style="margin: 20px;">Enter address</label>
            <input
              class="input"
              type="text"
              class="form-control"
              (keydown.enter)="$event.preventDefault()"
              placeholder="Search Nearest Location"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="off"
              type="text"
              #search
            />
          </div>
          <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
            <agm-marker
              [latitude]="latitude"
              [longitude]="longitude"
              [markerDraggable]="true"
              (dragEnd)="markerDragEnd($event)"
            ></agm-marker>
          </agm-map>
          <h5>Address: {{ address }}</h5>
          <div>Latitude: {{ latitude }}</div>
          <div>Longitude: {{ longitude }}</div>
        </div>
        <button class="button is-success" (click)="updatePoint()" style="margin-top: 20px;">Confirm</button>
      </form>
    </section>
  </div>
</div>
